using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Spillet
{
    public class Quiz : Action
    {
        public string[] SvarMuligheder { get; set; }

        public int Hints { get; set; }

        public Quiz(int id, string description, string[] svarMuligheder, int hints) : base(id, description)
        {
            SvarMuligheder = svarMuligheder;
            Hints = hints;
        }


        public override void Execute()
            {
                for (int i = 0; i < SvarMuligheder.Length; i += 4)
                {

                    bool QuizLoop = true;
                    do
                    {
                        Console.WriteLine("Her er dine spørgsmål for at komme ud af rummet. For at bruge et hint. skriv \"hint\"");
                        Console.WriteLine(SvarMuligheder[i + 2] + SvarMuligheder[i + 3]);
                        string BrugerSvar = Console.ReadLine().ToLower();

                        if (SvarMuligheder[i] == BrugerSvar)
                        {
                            Console.WriteLine("Det var rigtigt");
                            QuizLoop = false;
                        }
                        else if (BrugerSvar == "hint")
                        {
                            if (Hints > 0)
                            {
                                Console.Clear();
                                int a = i + 1;
                                Console.WriteLine(SvarMuligheder[a]);
                                Hints -= 1;
                                Console.WriteLine("Du har i alt: " + Hints + " Hints");
                            }
                            else
                            {
                                Console.WriteLine("Du har devsærre ikke nok hints. Goodluck");
                            }
                        }
                        else
                        {
                            Console.WriteLine("Det er forkert");
                        }


                        Console.ReadKey();
                    }
                    while (QuizLoop);
                    Console.Clear();
                }
                if (Id != -1)
                {
                new Navigation(Id, "").Execute();
                }


            }



    }
}
